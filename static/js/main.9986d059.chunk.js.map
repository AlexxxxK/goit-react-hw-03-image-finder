{"version":3,"sources":["components/Modal/Modal.module.css","components/SearchForm/SearchForm.module.css","components/Gallery/Gallery.module.css","containers/App/App.module.css","components/Gallery/PhotoCard/PhotoCard.module.css","components/SearchForm/SearchForm.jsx","components/Gallery/PhotoCard/PhotoCard.jsx","components/Gallery/Gallery.jsx","components/Modal/Modal.jsx","services/search-api.js","services/mapper.js","containers/App/App.jsx","index.js"],"names":["module","exports","SearchForm","state","searchInputValue","handleInputChange","target","setState","value","handleFormSubmit","event","preventDefault","props","onSubmit","this","className","styles","searchForm","searchInput","onChange","type","autoComplete","placeholder","Component","PhotoCard","imgLink","largeImgLink","likes","views","comments","downloads","tags","onClick","photoСard","src","alt","photoСardImg","stats","statsItem","data-link","fullscreenButton","defaultProps","Gallery","images","onFullScreenclick","onLoadMoreClick","gallery","map","image","key","button","Modal","overlayRef","createRef","isModalOpen","componentDidMount","window","addEventListener","handleKeyPress","componentWillUnmount","removeEventListener","code","toggleModal","prevState","onClose","handleOverlayClick","current","link","overlay","ref","role","modal","img","fetchImages","query","page","a","axios","response","mapper","arrayToMap","id","webformatURL","largeImageURL","App","modalImgLink","handleSearchFormSubmit","fetchedImages","data","hits","toast","error","handleLoadMoreClick","scrollTo","top","behavior","handleShowFullScreenImg","dataset","handleModalClose","app","length","ReactDOM","render","document","getElementById"],"mappings":"kKACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,qBAAqB,IAAM,qB,mBCAtFD,EAAOC,QAAU,CAAC,WAAa,+BAA+B,YAAc,kC,mBCA5ED,EAAOC,QAAU,CAAC,QAAU,yBAAyB,OAAS,0B,mBCA9DD,EAAOC,QAAU,CAAC,IAAM,mB,kBCAxBD,EAAOC,QAAU,CAAC,iBAAY,kCAA6B,oBAAe,qCAAgC,MAAQ,yBAAyB,UAAY,6BAA6B,iBAAmB,sC,4MCwCxLC,E,2MAhCbC,MAAQ,CACNC,iBAAkB,I,EAGpBC,kBAAoB,YAAiB,IAAdC,EAAa,EAAbA,OACrB,EAAKC,SAAS,CAAEH,iBAAkBE,EAAOE,S,EAG3CC,iBAAmB,SAAAC,GACjBA,EAAMC,iBADoB,IAElBP,EAAqB,EAAKD,MAA1BC,iBACR,EAAKQ,MAAMC,SAAST,GACpB,EAAKG,SAAS,CAAEH,iBAAkB,M,wEAG1B,IACAA,EAAqBU,KAAKX,MAA1BC,iBACR,OACE,0BAAMW,UAAWC,IAAOC,WAAYJ,SAAUC,KAAKL,kBACjD,2BACEM,UAAWC,IAAOE,YAClBV,MAAOJ,EACPe,SAAUL,KAAKT,kBACfe,KAAK,OACLC,aAAa,MACbC,YAAY,0B,GA9BGC,a,iCCAnBC,EAAY,SAAC,GAAD,IAChBC,EADgB,EAChBA,QACAC,EAFgB,EAEhBA,aACAC,EAHgB,EAGhBA,MACAC,EAJgB,EAIhBA,MACAC,EALgB,EAKhBA,SACAC,EANgB,EAMhBA,UACAC,EAPgB,EAOhBA,KACAC,EARgB,EAQhBA,QARgB,OAUhB,yBAAKjB,UAAWC,IAAOiB,gBACrB,yBAAKC,IAAKT,EAASU,IAAKJ,EAAMhB,UAAWC,IAAOoB,oBAEhD,yBAAKrB,UAAWC,IAAOqB,OACrB,uBAAGtB,UAAWC,IAAOsB,WACnB,uBAAGvB,UAAU,kBAAb,YACCY,GAEH,uBAAGZ,UAAWC,IAAOsB,WACnB,uBAAGvB,UAAU,kBAAb,cACCa,GAEH,uBAAGb,UAAWC,IAAOsB,WACnB,uBAAGvB,UAAU,kBAAb,WACCc,GAEH,uBAAGd,UAAWC,IAAOsB,WACnB,uBAAGvB,UAAU,kBAAb,kBACCe,IAIL,4BACEV,KAAK,SACLmB,YAAWb,EACXX,UAAWC,IAAOwB,iBAClBR,QAASA,GAET,uBAAGjB,UAAU,iBAAiBwB,YAAWb,GAAzC,mBAkBNF,EAAUiB,aAAe,CACvBd,MAAO,EACPC,MAAO,EACPC,SAAU,EACVC,UAAW,EACXC,KAAM,SAGOP,QCnCAkB,EA5BC,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,kBAAmBC,EAA9B,EAA8BA,gBAA9B,OACd,wBAAI9B,UAAWC,IAAO8B,SACnBH,EAAOI,KAAI,SAAAC,GAAK,OACf,kBAAC,EAAD,eAAWC,IAAKD,EAAMvB,SAAauB,EAAnC,CAA0ChB,QAASY,QAErD,4BAAQ7B,UAAWC,IAAOkC,OAAQlB,QAASa,EAAiBzB,KAAK,UAAjE,e,iBCNE+B,E,2MACJC,WAAaC,sB,EAOblD,MAAQ,CACNmD,aAAa,G,EAGfC,kBAAoB,WAClBC,OAAOC,iBAAiB,UAAW,EAAKC,iB,EAG1CC,qBAAuB,WACrBH,OAAOI,oBAAoB,UAAW,EAAKF,iB,EAG7CA,eAAiB,SAAAhD,GACI,WAAfA,EAAMmD,MACV,EAAKC,e,EAGPA,YAAc,WACZ,EAAKvD,UAAS,SAAAwD,GAAS,MAAK,CAC1BT,aAAcS,EAAUT,gBAE1B,EAAK1C,MAAMoD,W,EAGbC,mBAAqB,SAAAvD,GAAU,IACrBwD,EAAY,EAAKd,WAAjBc,QACJA,GAAWxD,EAAMJ,SAAW4D,GAChC,EAAKJ,e,wEAGG,IACAK,EAASrD,KAAKF,MAAduD,KACAb,EAAgBxC,KAAKX,MAArBmD,YACR,OACE,oCACGA,GACC,yBACEvC,UAAWC,IAAOoD,QAClBpC,QAASlB,KAAKmD,mBACdI,IAAKvD,KAAKsC,WACVkB,KAAK,gBAEL,yBAAKvD,UAAWC,IAAOuD,OACrB,yBAAKrC,IAAKiC,EAAMhC,IAAI,GAAGpB,UAAWC,IAAOwD,a,GAnDnCjD,aAgEpB4B,EAAMV,aAAe,GAINU,Q,iBC7DAsB,EAPE,uCAAG,WAAOC,EAAOC,GAAd,eAAAC,EAAA,sEACKC,IAAM,GAAD,OAHd,2BAGc,sDAC8BH,EAD9B,iBAC4CC,EAD5C,wDADV,cACZG,EADY,yBAIXA,GAJW,2CAAH,wDCmBFC,EAvBA,SAAAC,GAAU,OACvBA,EAAWjC,KACT,kBASO,CACLkC,GAVF,EACEA,GAUAxD,QAXF,EAEEyD,aAUAxD,aAZF,EAGEyD,cAUAxD,MAbF,EAIEA,MAUAC,MAdF,EAKEA,MAUAC,SAfF,EAMEA,SAUAC,UAhBF,EAOEA,UAUAC,KAjBF,EAQEA,U,yBCwESqD,E,2MAvEbjF,MAAQ,CACNuE,MAAO,GACPC,KAAM,EACNhC,OAAQ,GACR0C,aAAc,I,EAGhBC,uB,uCAAyB,WAAMlF,GAAN,eAAAwE,EAAA,6DACvB,EAAKrE,SAAS,CAAEmE,MAAOtE,EAAkBuE,KAAM,IADxB,kBAGOF,EAAYrE,EAAkB,GAHrC,OAGfmF,EAHe,OAIrB,EAAKhF,SAAS,CACZoC,OAAQoC,EAAOQ,EAAcC,KAAKC,QALf,gDAQrBC,IAAMC,MAAN,uCARqB,yD,wDAYzBC,oBAAsB,WACpB,EAAKrF,UACH,SAAAwD,GAAS,MAAK,CACZY,OAAQZ,EAAUY,QAFtB,sBAIE,kCAAAC,EAAA,+DAC0B,EAAKzE,MAArBuE,EADV,EACUA,MAAOC,EADjB,EACiBA,KADjB,kBAGgCF,EAAYC,EAAOC,GAHnD,OAGUY,EAHV,OAII,EAAKhF,UAAS,SAAAwD,GAAS,MAAK,CAC1BpB,OAAO,GAAD,mBAAMoB,EAAUpB,QAAhB,YAA2BoC,EAAOQ,EAAcC,KAAKC,YAE7DjC,OAAOqC,SAAS,CACdC,IAAK,KAAOnB,EAAO,GACnBoB,SAAU,WAThB,gDAYIL,IAAMC,MAAN,uCAZJ,2D,EAkBJK,wBAA0B,YAAiB,IACjC7B,EADgC,EAAb7D,OACH2F,QAAhB9B,KACR,EAAK5D,SAAS,CAAE8E,aAAclB,K,EAGhC+B,iBAAmB,WACjB,EAAK3F,SAAS,CAAE8E,aAAc,M,wEAGtB,IAAD,EACiCvE,KAAKX,MAArCuE,EADD,EACCA,MAAO/B,EADR,EACQA,OAAQ0C,EADhB,EACgBA,aACvB,OACE,yBAAKtE,UAAWC,IAAOmF,KACrB,kBAAC,EAAD,CAAY3F,MAAOkE,EAAO7D,SAAUC,KAAKwE,yBACxC3C,EAAOyD,OAAS,GACf,kBAAC,EAAD,CACEzD,OAAQA,EACRC,kBAAmB9B,KAAKkF,wBACxBnD,gBAAiB/B,KAAK8E,sBAGzBP,EAAae,OAAS,GACrB,kBAAC,EAAD,CAAOjC,KAAMkB,EAAcrB,QAASlD,KAAKoF,wB,GAjEjC3E,aCNlB8E,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.9986d059.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1P2CI\",\"modal\":\"Modal_modal__17m-J\",\"img\":\"Modal_img__2oWaA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__3Gj9Y\",\"searchInput\":\"SearchForm_searchInput__3UNyE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__12-ha\",\"button\":\"Gallery_button__2Vivf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3GFJD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoСard\":\"PhotoCard_photoСard__2gB9M\",\"photoСardImg\":\"PhotoCard_photoСardImg__2yxuA\",\"stats\":\"PhotoCard_stats__1BM3e\",\"statsItem\":\"PhotoCard_statsItem__1xVX3\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__2907h\"};","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./SearchForm.module.css\";\n\nclass SearchForm extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    searchInputValue: \"\",\n  };\n\n  handleInputChange = ({ target }) => {\n    this.setState({ searchInputValue: target.value });\n  };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { searchInputValue } = this.state;\n    this.props.onSubmit(searchInputValue);\n    this.setState({ searchInputValue: \"\" });\n  };\n\n  render() {\n    const { searchInputValue } = this.state;\n    return (\n      <form className={styles.searchForm} onSubmit={this.handleFormSubmit}>\n        <input\n          className={styles.searchInput}\n          value={searchInputValue}\n          onChange={this.handleInputChange}\n          type=\"text\"\n          autoComplete=\"off\"\n          placeholder=\"Search images...\"\n        />\n      </form>\n    );\n  }\n}\n\nexport default SearchForm;\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./PhotoCard.module.css\";\r\n\r\nconst PhotoCard = ({\r\n  imgLink,\r\n  largeImgLink,\r\n  likes,\r\n  views,\r\n  comments,\r\n  downloads,\r\n  tags,\r\n  onClick,\r\n}) => (\r\n  <div className={styles.photoСard}>\r\n    <img src={imgLink} alt={tags} className={styles.photoСardImg} />\r\n\r\n    <div className={styles.stats}>\r\n      <p className={styles.statsItem}>\r\n        <i className=\"material-icons\">thumb_up</i>\r\n        {likes}\r\n      </p>\r\n      <p className={styles.statsItem}>\r\n        <i className=\"material-icons\">visibility</i>\r\n        {views}\r\n      </p>\r\n      <p className={styles.statsItem}>\r\n        <i className=\"material-icons\">comment</i>\r\n        {comments}\r\n      </p>\r\n      <p className={styles.statsItem}>\r\n        <i className=\"material-icons\">cloud_download</i>\r\n        {downloads}\r\n      </p>\r\n    </div>\r\n\r\n    <button\r\n      type=\"button\"\r\n      data-link={largeImgLink}\r\n      className={styles.fullscreenButton}\r\n      onClick={onClick}\r\n    >\r\n      <i className=\"material-icons\" data-link={largeImgLink}>\r\n        zoom_out_map\r\n      </i>\r\n    </button>\r\n  </div>\r\n);\r\n\r\nPhotoCard.propTypes = {\r\n  imgLink: PropTypes.string.isRequired,\r\n  largeImgLink: PropTypes.string.isRequired,\r\n  likes: PropTypes.number,\r\n  views: PropTypes.number,\r\n  comments: PropTypes.number,\r\n  downloads: PropTypes.number,\r\n  tags: PropTypes.string,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nPhotoCard.defaultProps = {\r\n  likes: 0,\r\n  views: 0,\r\n  comments: 0,\r\n  downloads: 0,\r\n  tags: \"photo\",\r\n};\r\n\r\nexport default PhotoCard;\r\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./Gallery.module.css\";\nimport PhotoCard from \"./PhotoCard/PhotoCard\";\n\nconst Gallery = ({ images, onFullScreenclick, onLoadMoreClick }) => (\n  <ul className={styles.gallery}>\n    {images.map(image => (\n      <PhotoCard key={image.imgLink} {...image} onClick={onFullScreenclick} />\n    ))}\n    <button className={styles.button} onClick={onLoadMoreClick} type=\"button\">\n      Load more\n    </button>\n  </ul>\n);\n\nGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      imgLink: PropTypes.string.isRequired,\n      largeImgLink: PropTypes.string.isRequired,\n      likes: PropTypes.number,\n      views: PropTypes.number,\n      comments: PropTypes.number,\n      downloads: PropTypes.number,\n      tags: PropTypes.string,\n    }).isRequired,\n  ).isRequired,\n  onFullScreenclick: PropTypes.func.isRequired,\n  onLoadMoreClick: PropTypes.func.isRequired,\n};\n\nexport default Gallery;\n","import React, { Component, createRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./Modal.module.css\";\n\nclass Modal extends Component {\n  overlayRef = createRef();\n\n  static propTypes = {\n    link: PropTypes.string.isRequired,\n    onClose: PropTypes.func.isRequired,\n  };\n\n  state = {\n    isModalOpen: true,\n  };\n\n  componentDidMount = () => {\n    window.addEventListener(\"keydown\", this.handleKeyPress);\n  };\n\n  componentWillUnmount = () => {\n    window.removeEventListener(\"keydown\", this.handleKeyPress);\n  };\n\n  handleKeyPress = event => {\n    if (event.code !== \"Escape\") return;\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(prevState => ({\n      isModalOpen: !prevState.isModalOpen,\n    }));\n    this.props.onClose();\n  };\n\n  handleOverlayClick = event => {\n    const { current } = this.overlayRef;\n    if (current && event.target !== current) return;\n    this.toggleModal();\n  };\n\n  render() {\n    const { link } = this.props;\n    const { isModalOpen } = this.state;\n    return (\n      <>\n        {isModalOpen && (\n          <div\n            className={styles.overlay}\n            onClick={this.handleOverlayClick}\n            ref={this.overlayRef}\n            role=\"presentation\"\n          >\n            <div className={styles.modal}>\n              <img src={link} alt=\"\" className={styles.img} />\n            </div>\n          </div>\n        )}\n      </>\n    );\n  }\n}\n\nModal.propTypes = {\n  // bla: PropTypes.string,\n};\n\nModal.defaultProps = {\n  // bla: 'test',\n};\n\nexport default Modal;\n","import axios from \"axios\";\n\nconst baseURL = \"https://pixabay.com/api/\";\n\nconst fetchImages = async (query, page) => {\n  const response = await axios(\n    `${baseURL}?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=13831608-fc33c401179d692a5e1a3e905`,\n  );\n  return response;\n};\n\nexport default fetchImages;\n","const mapper = arrayToMap =>\n  arrayToMap.map(\n    ({\n      id,\n      webformatURL: imgLink,\n      largeImageURL: largeImgLink,\n      likes,\n      views,\n      comments,\n      downloads,\n      tags,\n    }) => ({\n      id,\n      imgLink,\n      largeImgLink,\n      likes,\n      views,\n      comments,\n      downloads,\n      tags,\n    }),\n  );\n\nexport default mapper;\n","import React, { Component } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport SearchForm from \"../../components/SearchForm/SearchForm\";\r\nimport Gallery from \"../../components/Gallery/Gallery\";\r\nimport Modal from \"../../components/Modal/Modal\";\r\nimport fetchImages from \"../../services/search-api\";\r\nimport mapper from \"../../services/mapper\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport styles from \"./App.module.css\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    query: \"\",\r\n    page: 1,\r\n    images: [],\r\n    modalImgLink: \"\",\r\n  };\r\n\r\n  handleSearchFormSubmit = async searchInputValue => {\r\n    this.setState({ query: searchInputValue, page: 1 });\r\n    try {\r\n      const fetchedImages = await fetchImages(searchInputValue, 1);\r\n      this.setState({\r\n        images: mapper(fetchedImages.data.hits),\r\n      });\r\n    } catch (error) {\r\n      toast.error(`Error while fetching: ${error}`);\r\n    }\r\n  };\r\n\r\n  handleLoadMoreClick = () => {\r\n    this.setState(\r\n      prevState => ({\r\n        page: ++prevState.page,\r\n      }),\r\n      async () => {\r\n        const { query, page } = this.state;\r\n        try {\r\n          const fetchedImages = await fetchImages(query, page);\r\n          this.setState(prevState => ({\r\n            images: [...prevState.images, ...mapper(fetchedImages.data.hits)],\r\n          }));\r\n          window.scrollTo({\r\n            top: 990 * (page - 1),\r\n            behavior: \"smooth\",\r\n          });\r\n        } catch (error) {\r\n          toast.error(`Error while fetching: ${error}`);\r\n        }\r\n      },\r\n    );\r\n  };\r\n\r\n  handleShowFullScreenImg = ({ target }) => {\r\n    const { link } = target.dataset;\r\n    this.setState({ modalImgLink: link });\r\n  };\r\n\r\n  handleModalClose = () => {\r\n    this.setState({ modalImgLink: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const { query, images, modalImgLink } = this.state;\r\n    return (\r\n      <div className={styles.app}>\r\n        <SearchForm value={query} onSubmit={this.handleSearchFormSubmit} />\r\n        {images.length > 0 && (\r\n          <Gallery\r\n            images={images}\r\n            onFullScreenclick={this.handleShowFullScreenImg}\r\n            onLoadMoreClick={this.handleLoadMoreClick}\r\n          />\r\n        )}\r\n        {modalImgLink.length > 0 && (\r\n          <Modal link={modalImgLink} onClose={this.handleModalClose} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./containers/App/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}